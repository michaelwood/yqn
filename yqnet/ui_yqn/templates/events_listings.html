{% extends 'events_base.html' %}

{% block events_content %}
{% load vue_widget %}


<div class="my-3 p-3 bg-white rounded shadow-sm">
    <div class="clearfix border-bottom border-gray pb-1 mb-0  ">
      <div class="float-right">

        {% if user.is_authenticated %}

        <button title="Add Single Event" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#add-object-modal-Events">
            <i class="fas fa-plus-circle"></i>
             Event
        </button>

        <button title="Add Regular Events" class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#add-object-modal-EventsLocations">
            <i class="fas fa-plus-circle"></i>
            Regular Events
        </button>
        {% else %}
        <a href="{% url "login" %}?next={% url "events" %}?action=do_post" class="btn btn-primary btn-sm">
            <i class="fas fa-plus-circle"></i>
            Event
        </a>

        <a href="{% url "login" %}?next={% url "events" %}?action=do_post" class="btn btn-primary btn-sm">
            <i class="fas fa-plus-circle"></i>
            Regular Events
        </a>


        {% endif %}

      </div>

      <h6 class="float-left">Events</h6>
        <a href="#" tabindex=0 class="small float-left ml-2" data-trigger="focus" data-placement="left" data-content="These are event aggregated from around the web and from
           the YQN community. The events are not run by YQN" data-toggle="popover" data-container="body">
            <i class="far fa-question-circle"></i>
        </a>
    </div>

    <h1>One-off events</h1>
    <a name="one-off"></a>
    <div id="events-app" class="border-bottom">
        <events></events>
    </div>

   <div class="mb-1 pt-2 border-bottom">
       <a name="regular"></a>
       <h1>Regular Events</h1>
    </div>


    <div id="regular-events-app" class="border-bottom">
        <regular-events></regular-events>
    </div>
   
</div>

<div id="add-object-modal-app" v-cloak>
    <add-object-modal start-model="EventsLocations" success="Thank you for adding your event" title="Add a location"></add-object-modal>
    <add-object-modal start-model="Events" title="Add your one-off event" success="Thank you for adding your event"></add-object-modal>
</div>
      
{% vue_widget "events.html" %}
{% vue_widget "regular-events.html" %}

{% if user.is_authenticated %}
  {% vue_widget "add-object-modal.html" %}
{% endif %}


{% endblock %}